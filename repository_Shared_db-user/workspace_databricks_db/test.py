# array of values of a dict
unflat = {'ITR1': {'CreationInfo': {'SWVersionNo': 'R1', 'SWCreatedBy': 'SW10012223', 'JSONCreatedBy': 'SW10012223',
                                    'JSONCreationDate': '2022-07-30',
                                    'Digest': 'KxwBYE/rURIBbxZlR13WcOGt9NcDxgxcqZ7UHCSKdkI=',
                                    'IntermediaryCity': 'Delhi'}, 'Form_ITR1': {'FormName': 'ITR-1',
                                                                                'Description': 'For Indls having Income from Salary, Pension, family pension and Interest',
                                                                                'AssessmentYear': '2022',
                                                                                'SchemaVer': 'Ver1.0',
                                                                                'FormVer': 'Ver1.0'},
                   'PersonalInfo': {'AssesseeName': {'FirstName': 'AMIT', 'SurNameOrOrgName': 'PAUL'},
                                    'Address': {'ResidenceNo': 'KARMIK NAGAR ', 'ResidenceName': 'KARMIK NAGAR',
                                                'RoadOrStreet': 'Dhanbad H.O', 'LocalityOrArea': 'Dhanbad',
                                                'CityOrTownOrDistrict': 'DHANBAD', 'StateCode': '35',
                                                'CountryCode': '91', 'PinCode': 826001, 'CountryCodeMobile': 91,
                                                'MobileNo': 7079014262, 'EmailAddress': 'am.paul.go@gmail.com'},
                                    'PAN': 'BIJPP9717M', 'DOB': '1990-04-30', 'EmployerCategory': 'PSU',
                                    'AadhaarCardNo': '818833342602'},
                   'FilingStatus': {'ReturnFileSec': 11, 'NewTaxRegime': 'N', 'SeventhProvisio139': 'N',
                                    'DepAmtAggAmtExcd1CrPrYrFlg': 'N', 'IncrExpAggAmt2LkTrvFrgnCntryFlg': 'N',
                                    'IncrExpAggAmt1LkElctrctyPrYrFlg': 'N', 'clauseiv7provisio139i': 'N'},
                   'ITR1_IncomeDeductions': {'AllwncExemptUs10': {'TotalAllwncExemptUs10': 0}, 'OthersInc': {
                       'OthersIncDtlsOthSrc': [{'DividendInc': {
                           'DateRange': {'Upto15Of6': 70, 'Upto15Of9': 0, 'Up16Of9To15Of12': 0, 'Up16Of12To15Of3': 0,
                                         'Up16Of3To31Of3': 0}}, 'OthSrcNatureDesc': 'DIV', 'OthSrcOthAmount': 70},
                                               {'OthSrcNatureDesc': 'SAV', 'OthSrcOthAmount': 5334}]},
                                             'UsrDeductUndChapVIA': {'Section80C': 11600, 'Section80CCC': 0,
                                                                     'Section80CCDEmployeeOrSE': 0, 'Section80CCD1B': 0,
                                                                     'Section80CCDEmployer': 0, 'Section80D': 26112,
                                                                     'Section80DD': 0, 'Section80DDBUsrType': '1',
                                                                     'Section80DDB': 40000, 'Section80E': 0,
                                                                     'Section80EE': 0, 'Section80GG': 0,
                                                                     'Section80GGA': 0, 'Section80GGC': 0,
                                                                     'Section80U': 0, 'Section80TTA': 0,
                                                                     'Section80TTB': 0, 'TotalChapVIADeductions': 77712,
                                                                     'Section80G': 0},
                                             'DeductUndChapVIA': {'Section80C': 11600, 'Section80CCC': 0,
                                                                  'Section80CCDEmployeeOrSE': 0, 'Section80CCD1B': 0,
                                                                  'Section80CCDEmployer': 0, 'Section80D': 25000,
                                                                  'Section80DD': 0, 'Section80DDB': 40000,
                                                                  'Section80E': 0, 'Section80EE': 0, 'Section80EEA': 0,
                                                                  'Section80EEB': 0, 'Section80G': 0, 'Section80GG': 0,
                                                                  'Section80GGA': 0, 'Section80GGC': 0, 'Section80U': 0,
                                                                  'Section80TTA': 0, 'Section80TTB': 0,
                                                                  'TotalChapVIADeductions': 76600},
                                             'ExemptIncAgriOthUs10': {'ExemptIncAgriOthUs10Total': 0},
                                             'GrossSalary': 706478, 'Salary': 706478, 'PerquisitesValue': 0,
                                             'ProfitsInSalary': 0, 'IncomeNotified89A': 0, 'NetSalary': 706478,
                                             'DeductionUs16': 51200, 'DeductionUs16ia': 50000,
                                             'EntertainmentAlw16ii': 0, 'ProfessionalTaxUs16iii': 1200,
                                             'IncomeFromSal': 655278, 'AnnualValue': 0, 'StandardDeduction': 0,
                                             'TotalIncomeOfHP': 0, 'IncomeOthSrc': 5404, 'DeductionUs57iia': 0,
                                             'Increliefus89AOS': 0, 'GrossTotIncome': 660682, 'TotalIncome': 584080},
                   'ITR1_TaxComputation': {
                       'IntrstPay': {'IntrstPayUs234A': 0, 'IntrstPayUs234B': 0, 'IntrstPayUs234C': 0,
                                     'LateFilingFee234F': 0}, 'TotalTaxPayable': 29316, 'Rebate87A': 0,
                       'TaxPayableOnRebate': 29316, 'EducationCess': 1173, 'GrossTaxLiability': 30489, 'Section89': 0,
                       'NetTaxLiability': 30489, 'TotalIntrstPay': 0, 'TotTaxPlusIntrstPay': 30489}, 'TaxPaid': {
        'TaxesPaid': {'AdvanceTax': 0, 'TDS': 37454, 'TCS': 0, 'SelfAssessmentTax': 0, 'TotalTaxesPaid': 37454},
        'BalTaxPayable': 0}, 'Refund': {'BankAccountDtls': {'AddtnlBankDetails': [
        {'IFSCCode': 'KKBK0005029', 'BankName': 'KOTAK MAHINDRA BANK LIMITED', 'BankAccountNo': '9912188196',
         'UseForRefund': 'true'}]}, 'RefundDue': 6970}, 'Schedule80G': {
        'Don100Percent': {'TotDon100PercentCash': 0, 'TotDon100PercentOtherMode': 0, 'TotDon100Percent': 0,
                          'TotEligibleDon100Percent': 0},
        'Don50PercentNoApprReqd': {'TotDon50PercentNoApprReqdCash': 0, 'TotDon50PercentNoApprReqdOtherMode': 0,
                                   'TotDon50PercentNoApprReqd': 0, 'TotEligibleDon50Percent': 0},
        'Don100PercentApprReqd': {'TotDon100PercentApprReqdCash': 0, 'TotDon100PercentApprReqdOtherMode': 0,
                                  'TotDon100PercentApprReqd': 0, 'TotEligibleDon100PercentApprReqd': 0},
        'Don50PercentApprReqd': {'TotDon50PercentApprReqdCash': 0, 'TotDon50PercentApprReqdOtherMode': 0,
                                 'TotDon50PercentApprReqd': 0, 'TotEligibleDon50PercentApprReqd': 0},
        'TotalDonationsUs80GCash': 0, 'TotalDonationsUs80GOtherMode': 0, 'TotalDonationsUs80G': 0,
        'TotalEligibleDonationsUs80G': 0},
                   'Schedule80GGA': {'TotalDonationAmtCash80GGA': 0, 'TotalDonationAmtOtherMode80GGA': 0,
                                     'TotalDonationsUs80GGA': 0, 'TotalEligibleDonationAmt80GGA': 0}, 'Schedule80D': {
        'Sec80DSelfFamSrCtznHealth': {'SeniorCitizenFlag': 'N', 'SelfAndFamily': 25000, 'HealthInsPremSlfFam': 26112,
                                      'SelfAndFamilySeniorCitizen': 0, 'ParentsSeniorCitizenFlag': 'P', 'Parents': 0,
                                      'ParentsSeniorCitizen': 0, 'EligibleAmountOfDedn': 25000}}, 'TDSonSalaries': {
        'TDSonSalary': [{'EmployerOrDeductorOrCollectDetl': {'TAN': 'BLRP01490G',
                                                             'EmployerOrDeductorOrCollecterName': 'BRILLIO TECHNOLOGIES PRIVATE LIMITED'},
                         'IncChrgSal': 706478, 'TotalTDSSal': 37454}], 'TotalTDSonSalaries': 37454},
                   'TDSonOthThanSals': {'TotalTDSonOthThanSals': 0}, 'ScheduleTDS3Dtls': {'TotalTDS3Details': 0},
                   'ScheduleTCS': {'TotalSchTCS': 0}, 'TaxPayments': {'TotalTaxPayments': 0}, 'Verification': {
        'Declaration': {'AssesseeVerName': 'AMIT PAUL', 'FatherName': 'AMAL CHANDRA PAUL',
                        'AssesseeVerPAN': 'BIJPP9717M'}, 'Capacity': 'S', 'Place': '49.37.71.79'}}}


# Function for flattening
def flatten_json(y):
    out = {}  # out here is a dictionery

    def flatten(x, name=''):

        # If the Nested key-value
        # pair is of dict type
        if type(x) is dict:

            for a in x:
                flatten(x[a], name + a + '_')

        # If the Nested key-value
        # pair is of list type
        elif type(x) is list:

            i = 0

            for a in x:
                flatten(a, name + str(i) + '_')
                i += 1
        else:
            out[name[:-1]] = x

    flatten(y)
    return out


# Driver code
di = (flatten_json(unflat))
print(di)
